// Copyright Epic Games, Inc. All Rights Reserved.

#pragma once

#include "CoreMinimal.h"

#include "TopDown/Character/Effects/OneTimeEffect.h"

#include "InvulnerabilityEffect.generated.h"

UCLASS()
class TOPDOWN_API UInvulnerabilityEffect : public UOneTimeEffect {
    GENERATED_BODY()

protected:
    virtual void TimerEnded() { HealthComponentPtr->SwitchInvulnerability(); };

public:
    void Init(class ATopDownCharacter* Actor, std::shared_ptr<FEffectInfo> Info) override {
        UOneTimeEffect::Init(Actor, Info);
        HealthComponentPtr->SwitchInvulnerability();
    };
};
